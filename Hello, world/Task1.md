 1. Изучить механизм интеропа между языками, попробовать у себя вызывать C/C++ (Не C++/CLI) код (суммы чисел достаточно) из Java и C#. В отчёте описать логику работы, сложности и ограничения этих механизмов.

### **Запуск C++ из Java**

 Для того, чтобы запустить код на языке C++ на другом языке, я создал свой файл с расширением .dll (_Dynamic Link Library_) и попытался напрямую запустить код на C++ в Java. Изначально мой метод просто выводил на экран строчку "Hello, world" и имел такой вид:

```c++
 #include <cstdio>

extern "C"
{
    __declspec (dllexport) void __stdcall Java_LabOne_myMethod() {
        printf("Hello, world!");
    }
}
```

При попытке вызова данного метода из Java путем добавления данной библиотеки в проект и созданием нативного метода, ошибок и некоректных отработок программы не возникало. Однако при изменении функции на:

```c++
extern "C"
{
    __declspec (dllexport) int __stdcall Java_LabOne_myMethod(int a, int b) {
        return a + b;
    }
}
```

И попытке вызвать метод из Java при _a_ = 3 и _b_ = 2 в Java, я получал некоректные результаты, например: 2087342632 или -1832671544. 

Это говорит о трудностях взаимодействия языков C++ и Java без определнного "посредника". Поскольку при переводе целочисленного(и не только) типа между языками возникает потеря точности.

Изучая данный вопрос, я узнал про такой механизм, как JNI (_Java Native Interface_), задача которого обрабатывать полученные объекты из других языков, проебразовывая их к типу jobject, что позволяет корректно выполнять логику, написанную на другом языке.

Таким образом, мой метод поменял свой вид:

```c++
#include <jni.h>

extern "C"
{
    JNIEXPORT jint JNICALL Java_LabOne_myMethod(JNIEnv*, jobject, jint a, jint b) 
    {
        return a + b;
    }
}
```

После попытки запустить его из Java, его работа стала корректной. Как мы видим, в сигнатруе изначальной функции в нашей библиотеке присутствуют типы данных jint и jobject. Поскольку Java может воспринимать и обрабатывать только "понятные" для нее объекты.

### **Запуск C++ из C#**

Механизмы интеропа в C++ позволяют "управляемому" и "неуправляемому" коду сосуществовать вместе в одном приложении или даже в одном файле. Это позволяет интегрировать функции из C++ в приложения на платформе .NET. Это возможно осуществить с помощью dllexport и dllImport.

Для того, чтобы запустить код в C# потребовалось указать путь до моего dll файла и подключить его с помощью DllImport. Потом объявить его с тойе сигнатурой, что и в dll файлеб указав для функции модификатор extern. Вызов отработал корректно.